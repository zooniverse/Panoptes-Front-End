@keyframes be-slightly-annoying
  0%
    transform: rotate(0);
  25%
    transform: rotate(2deg);
  75%
    transform: rotate(-2deg);
  100%
    transform: rotate(0);

.get-attention
  animation: be-slightly-annoying 0.3s infinite

.pulsar-hunters-feedback
  background: #666
  box-shadow: 0 1px 3px rgba(black, 0.5)
  border-radius: 3px
  color: white
  font-weight: bold
  margin: 0.5em 0
  padding: 1px 1em
  text-align: center

  &[data-is-correct]
    background: #060

  button
    @extends $reset-button
    text-decoration: underline

.classify-page
  background-color: PROJECT_BACKGROUND
  position: relative

  &--dark-theme
    background-color: PROJECT_BACKGROUND_DARK
    color: white

    .classify-page__theme-button
      &:hover, &:focus
        text-decoration: underline

  .classifier-announcement-banner
    @extends $announcement-banner
    margin: 0 0 1.5em

    &--yellow
      background: HIGHLIGHT_COLOR

    &.custom-sign-in-banner
      background-color: SECOND_HIGHLIGHT
      display: flex
      justify-content: space-between
      margin: 0 0 3vh

      p
        display: inline-block

  .anouncement-banner--group
    @extends $announcement-banner
    background-color: SUCCESS
    margin: 1em auto
    max-width: 400px

  &__theme-button-wrapper
    text-align: center

  &__theme-button
    @extends $reset-button
    color: TEAL_MID
    font-size: 0.9em
    letter-spacing: 0.2em
    text-transform: uppercase

    &:hover, &:focus
      text-decoration: underline

.classifier
  display: flex
  justify-content: center

  @media (max-width: 900px) // This is between iPad landscape and portrait.
    flex-wrap: wrap

  > .subject-viewer
    flex: 0 1 auto

  .subject-container
    color: gray
    max-width: 100%

    > *
      display: flex
      flex: 1 1 auto

  .task-container
    padding: 0 2em 0 2em

  .subject
    box-shadow: 0 0 0 1px gray
    max-height: 90vh
    max-width: 100%

  .marking-initializer
    cursor: crosshair

    &[data-disabled]
      cursor: not-allowed

  .loading-cover
    align-items: center
    background: rgba(gray, 0.5)
    color: white
    display: flex
    font-size: 2em
    height: 100%
    justify-content: center
    left: 0
    min-height: 4em
    position: absolute
    top: 0
    width: 100%

  .subject-image-frame
    img
      display: block

  .subject-tools
    display: flex
    justify-content: space-between

    @media (max-width: 900px)
      &__play
        position: relative

      &__play:after
        content:''
        position:absolute;
        bottom: -0.5em
        left: -0.5em
        right: -0.5em
        top: -0.5em

  .subject-frame-pip
    @extends $reset-button
    background: transparent
    border: 2px solid
    border-radius: 50%
    height: 0.7em
    margin: 0 0.3em
    overflow: hidden
    text-indent: 1em
    vertical-align: middle
    width: 0.7em

    &.active
      background: currentColor

  .warning-banner
    @extends $reset-button
    background: orangered
    color: white
    font-size: 0.8em
    font-weight: bold
    left: -1em
    letter-spacing: 0.05em
    padding: 0 1em
    position: absolute
    text-transform: uppercase
    top: 0
    transform: rotate(-15deg)

  // for subject images that are not height contained
  // this class name is enabled through a workflow config
  &.large-image
    .subject
      max-height: none

  .task-nav
    display: flex
    padding: 0 2em 0 2em

    .talk // Done and Done & Talk buttons
      color: white
      cursor: pointer
      flex: 2 0

    .continue-button
      background-color: HIGHLIGHT_COLOR
      border: none
      border-radius: 0
      color: white
      cursor: pointer
      flex: 3 0
      font-size: 0.9em
      padding: 0.9em
      text-transform: capitalize

      i
        margin-left: 1ch

      &:hover, &:focus
        background: HIGHLIGHT_COLOR_HOVER

      &:disabled
        background: lighten(HIGHLIGHT_COLOR, 10%)
        color: #EEF1F4
        cursor: not-allowed

    > :not(:first-child)
      margin-left: 0.5em

.workflow-task
  & + .workflow-task
    margin-top: 2em

  // Only show the "required" warning when a task is outside the normal flow.
  .classifier > .task-area & .required-task-warning
    display: none

  .question p
    margin: 1em 0 1.5em

  // .answer-button
  //   align-items: baseline
  //   background-color: BACKGROUND_COLOR
  //   border: none;
  //   box-shadow: 1px 1px 2px 0 rgba(0,0,0,0.5)
  //   cursor: pointer
  //   display: flex
  //   margin: 10px 0
  //   padding: 1ch 2ch
  //   position: relative
  //   text-align: left

  //   &:hover, &:focus, &[data-focus=true]
  //     background: linear-gradient(#C0E3E5, #8BCED2)
  //     color: white

  //   &.active
  //     background-color: TEAL_MID
  //     color: white

  //   > :not(:first-child)
  //     margin-left: 1ch

    // Ignore first and last margins from Markdown.
    // .markdown
    //   > :first-child
    //     margin-top: 0

    //   > :last-child
    //     margin-bottom: 0

    // Using, visibility: hidden or display: none breaks accessibility. This keeps the buttons keyboard accessibile,
    // but hides the actual radio or checkbox
    // .answer-button-icon-container
    //   input
    //     opacity: 0.01
    //     position: absolute

    .answer-button-label-container
      align-items: baseline
      display: flex
      flex-grow: 1
      flex-wrap: wrap

    .answer-button-label
      flex-grow: 1
      text-align: center
      img
        vertical-align: middle
        padding-left: 5px
        padding-right: 5px

    .answer-button-status
      font-size: 0.8em
      opacity: 0.7

  .drawing-tool-button-icon > svg
    fill-opacity: 0.1
    height: 1.5em
    stroke: currentColor
    stroke-width: 5
    width: 1.5em

  .drawing-tool-button-input
    opacity: 0.01
    position: absolute
    &:focus + *:not(.active)
      background: lighten(#424242, 95%)

.unlinked-shortcut
  p
    margin: 0.5em 0

  &.active
    label
      background: MAIN_HIGHLIGHT
