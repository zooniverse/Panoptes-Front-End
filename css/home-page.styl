LIGHT-BLUE-GREEN = #5CBDC1
WHITE = #FFFFFF

$absolute-fill
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%

$flex-section
  display: flex
  flex-direction: column
  align-items: center
  justify-content: center
  text-align: center

.on-home-page-not-logged-in, .on-home-page-logged-in
  .app-layout__header
    background: rgba(0, 0, 0, 0.5)
    background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.0))
    position: absolute
    width: 100%
    z-index: 1
    top: 0
    left: 0

  .site-nav__link
    opacity: 1
    color: #FFFFFF

  .modal-form .site-nav__link
    color: #000000

  h1, h2
    color: #FFFFFF
    font-size: 3em

    @media (max-width: 900px)
      font-size: 2em

.home-page-not-logged-in
  .main-kicker
    color: TEAL_LIGHT
    font-family: 'Oswald', sans-serif
    font-size: 1.5em
    letter-spacing: 0.18em
    text-transform: uppercase

    @media (max-width: 900px)
      font-size: 1em

  .secondary-kicker
    color: TEAL_MID
    font-family: 'Oswald', sans-serif
    font-size: 1em
    letter-spacing: 0.16em
    text-transform: uppercase

  .tertiary-kicker
    color: #5c5c5c
    font-size: 1em
    font-weight: 700
    letter-spacing: 0.22em
    text-transform: uppercase

  .main-headline
    color: #ffffff
    font-size: 3.25em
    font-weight: 700

    @media (max-width: 900px)
      font-size: 2em

  .secondary-headline
    color: #5c5c5c
    font-size: 2.5em
    font-weight: 700
    line-height: 1.25em

    @media (max-width: 900px)
      font-size: 2em

  .tertiary-headline
    color: #5c5c5c
    font-size: 2.25em
    font-weight: 700
    line-height: 1.2em

    @media (max-width: 900px)
      font-size: 2em

  .class-counter
    color: TEAL_MID
    font-family: 'Oswald', sans-serif
    font-size: 8em
    font-weight: 300
    letter-spacing: 0.02em
    line-height: 1.2em

    @media (max-width: 900px)
      font-size: 4em

  .display-body
    font-weight: 700

  .regular-body, .display-body
    font-size: 0.8em

    a
      color: #007482
      text-decoration: none

      &:hover
        color: TEAL_MID

      &:visited
        color: #005d69

  .primary-button
    background: transparent
    border: 1px solid #cc9200
    color: white
    cursor: pointer
    font-size: 0.8em
    margin: 0.75em 1em 0.75em 0
    padding: 0.75em 0.75em
    text-decoration: none
    width: 150px

    &:hover,
    &:active,
    &:focus
      background: #cc9200
      color: #FFFFFF

    &--light
      background: #F0B200
      border: 1px solid #F0B200
      color: white

      &:hover
        background: #cc9200
        border-color: #cc9200

  .home-intro
    box-sizing: border-box
    justify-content: flex-end
    min-height: 30vw // video is 2:1 aspect ratio and 100% width
    padding: 2em 0
    text-align: center
    z-index: 0

    video
      display: none

    .home-mobile-video-image
      display: block

    @media (min-width: 900px)
      video
        display: block

      .home-mobile-video-image
        display: none

    @media (max-width: 900px)
      min-height: 100vh

    video, .home-mobile-video-image
      @extends $absolute-fill
      z-index: -1
      object-fit: cover

  .home-research
    padding: 5em 0
    text-align: left

    button[class=primary-button]
      color: black

    &__columns
      margin: 2em 12em
      column-count: 2
      -moz-column-count: 2
      -webkit-column-count: 2
      column-gap: 2.5em
      -moz-column-gap: 2.5em
      -webkit-column-gap: 2.5em

      @media (max-width: 800px)
        margin: 2em 5em
        column-count: 1
        -moz-column-count: 1
        -webkit-column-count: 1

      a
        color: #007482
        text-decoration: none

    &__buttons
      text-align: center

      .tertiary-kicker
        font-size: 0.65em

      button
        margin-top: 1.5em

    &__researchers
      display: flex
      flex-flow: row nowrap
      margin: 6em 0
      width: 100%

      img
        flex: 1 0 auto
        height: 20em
        max-width: 100%

    &__content
      display: flex
      flex-direction: column
      padding: 0 15vw
      text-align: center

      .tertiary-kicker
        margin-bottom: 1.25em

      div
        box-sizing: border-box
        margin: 1.5em 4vw

        a
          padding: 0.8em 3em

  .home-discover
    background-color: BACKGROUND_COLOR
    display: flex
    flex-direction: row
    flex-wrap: wrap
    padding: 2em 0
    text-align: left

    hr
      border-color: white

    @media (max-width: 900px)
      min-height: auto

    img
      max-height: 50vh
      width: auto

    &__image
      flex: 1 0 0
      text-align: right

    &__content
      flex: 2 0 0
      margin: 0 10vw

      a
        img
          max-height: 2em
          margin-right: 1em

      button[class=primary-button]
        color: black

  &__project-card
    border-radius: 0
    height: 25em
    max-height: 25em
    max-width: 18em

    .details
      height: 50%

      .name, .description
        text-align: left

      .description
        display: -webkit-box
        height: 4.5em
        margin-top: 0
        overflow: hidden
        text-overflow: ellipsis
        -webkit-line-clamp: 3
        -webkit-box-orient: vertical

    hr
      margin: 0.5em 0

    a[class=primary-button]
      box-sizing: border-box
      color: black
      margin: 0
      text-align: center

    :hover > &,
    :focus > &
      .details
        height: 50%

.on-home-page
  font-family: 'Karla', sans-serif;

  *:focus
    outline: none

  section
    @extends $flex-section
    position: relative
    min-height: 40vw

    @media (max-width: 900px)
      min-height: 100vh
      padding-top: 2em
      padding-bottom: 2em

  .standard-button
    border: 2px solid
    border-radius: 6px
    border-color: #FFFFFF
    background: none
    padding: 0.75em 1.75em
    transition: background 500ms ease
    margin: 50px 10px 0 10px
    font-size: 1.5em
    font-weight: bold
    text-decoration: none

    @media (max-width: 900px)
      margin-top: 20px

    &:visited
      color: #FFFFFF

    &:hover,
    &:active,
    &:focus
      background: #FFFFFF
      color: ZOONIVERSE_TEAL

  .home-featured
    padding: 50px 30px
    min-height: 40vw
    background: #fff

    p
      width: 50vw

      a
        font-size: inherit

      @media (max-width: 900px)
        width: 100%

    .home-featured-images
      margin: 1em 0
      display: flex
      flex-direction: row
      justify-content: center
      align-items: center

      img
        max-height: 11.5em
        display: block
        margin: 1vw
        flex: 1 1 auto

        @media (max-width: 900px)
          max-width: 80vw

  .home-promoted
    padding: 0

    .promoted-projects
      width: 100%

      .promoted-project
        @extends $flex-section
        @extends $absolute-fill

        *
          opacity: 0

        .description
          top: 50px
          transition: top 0ms

        &.current
          *
            opacity: 1
            z-index: 2

          .description
            top: 10px
            transition: all 750ms ease-out

          .layer
            z-index: 1

          .background-image
            z-index: 0

    .background-image
      @extends $absolute-fill
      object-fit: cover
      transition: opacity 750ms ease-out

    .layer
      @extends $absolute-fill
      background: linear-gradient(top, rgba(ZOONIVERSE_TEAL, 0.25), rgba(ZOONIVERSE_TEAL, 0.4))

    .description
      position: relative
      margin-top: 10px
      margin-bottom: 10px
      font-size: 3em
      color: #FFFFFF

      @media (max-width: 900px)
        font-size: 2em

    &:hover
      .controls
        opacity: 1

    .controls
      opacity: 0
      transition: opacity 500ms ease-in-out
      color: #FFFFFF

      &.angles
        position: absolute
        font-size: 4em
        border: 3px solid #FFFFFF
        border-radius: 50%
        text-align: center
        width: 25px
        height: 25px
        line-height: 25px
        top: calc(50% - 12.5px) // vertically centered
        padding: 10px
        cursor: pointer

        &.fa-angle-left
          left: 50px

        &.fa-angle-right
          right: 50px

      &.circles
        position: absolute
        bottom: 15%
        left: 0
        width: 100%
        text-align: center

        .fa-circle, .fa-circle-o
          margin: 0 5px 0 5px
          cursor: pointer

      @media (max-width: 900px)
        &.angles
          display: none

        &.circles
          opacity: 1
          font-size: 1.5em

          .fa-circle, .fa-circle-o
            margin: 0 15px

    .owner
      position: absolute
      bottom: 50px
      left: 2vw
      margin: 0
      color: #FFFFFF

      @media (max-width: 900px)
        display: none

  .home-social
    background-color: WHITE
    border-top: 1px solid #333
    padding: 50px 0

    @media (max-width: 900px)
      padding 2em

    h1
      color: ZOONIVERSE_NAVY
      margin: 20px auto

    h2, h2 a
      color: ZOONIVERSE_NAVY
      margin: 20px auto
      font-size: 20px
      text-decoration: none

    .home-social-columns
      width: 100%
      display: flex
      flex-direction: row
      justify-content: space-around

      @media (max-width: 900px)
        display: block

      .home-social-column
        text-align: left

        ul
          list-style: none
          padding: 0

          li
            margin: 0 0 2.5em 0
            max-width: 100vw

            @media (min-width: 900px)
              max-width: 25vw

            h3
              font-weight: bolder
              line-height: 15px

            h3, p
              a
                color: inherit
                display: block
                overflow: hidden
                text-decoration: none
                text-overflow: ellipses

        .home-social-timestamp
          margin: 0.5em 0
          font-size: 1.25em

.home-page
  background: #f4f4f4

  .hero
    align-items: center
    background: url(/assets/zoohome-hero.jpg) top left no-repeat
    background-size: cover
    color: #f9f9f9
    display: flex
    flex-direction: column
    min-height: 800px
    justify-content: center
    padding: 0 3vw
    text-align: center

    @media screen and (max-width: 400px)
      svg
        margin-top: 15vh

    .hero-title
      color: inherit
      font-weight: 300
      line-height: 40px
      padding: 1.5em 0 0.5em

    .hero-tagline
      color: inherit
      font-size: 1.6em
      line-height: 22px
      margin: 0 auto
      max-width: 600px
      padding: 1em 0 6.5em

    .hero-button
      box-sizing: border-box
      color: #fbfbfb
      font-size: 1.6em
      font-weight: 400
      margin-bottom: 3vh

      &:hover
        background: lighten(TEAL_MID, 20%)
